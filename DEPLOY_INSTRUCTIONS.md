# üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## ‚úÖ –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

–í—Å—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è –≥–æ—Ç–æ–≤–∞:

1. ‚úÖ `web-ui/Dockerfile` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å nginx
2. ‚úÖ `web-ui/nginx.conf` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å CORS
3. ‚úÖ `web-ui/cloudbuild.yaml` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π
4. ‚úÖ `terraform/modules/web-ui/` - Terraform –º–æ–¥—É–ª–∏
5. ‚úÖ Cloud Build —Ç—Ä–∏–≥–≥–µ—Ä (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π)

## üéØ –ß—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å –û–î–ò–ù —Ä–∞–∑ (5 –∫–æ–º–∞–Ω–¥)

### –ö–æ–º–∞–Ω–¥–∞ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub –∫ Cloud Build

```bash
# –≠—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –û–î–ò–ù —Ä–∞–∑ –≤ GCP Console:
# 1. –û—Ç–∫—Ä–æ–π: https://console.cloud.google.com/cloud-build/triggers
# 2. –ù–∞–∂–º–∏ "Connect Repository"
# 3. –í—ã–±–µ—Ä–∏ GitHub
# 4. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Å—è –≤ GitHub
# 5. –í—ã–±–µ—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: amapemom-rgb/financial-reports-system
# 6. –ù–∞–∂–º–∏ "Connect"
```

**–≠—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ UI, –ø–æ—Ç–æ–º—É —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç OAuth —Å GitHub.**

### –ö–æ–º–∞–Ω–¥–∞ 2: –°–æ–±—Ä–∞—Ç—å –ø–µ—Ä–≤—ã–π –æ–±—Ä–∞–∑ Web UI

```bash
cd /Users/sergejbykov/financial-reports-system

# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –æ–±—Ä–∞–∑
gcloud builds submit --config=web-ui/cloudbuild.yaml .
```

**–í—Ä–µ–º—è:** ~3 –º–∏–Ω—É—Ç—ã

### –ö–æ–º–∞–Ω–¥–∞ 3: –ü—Ä–∏–º–µ–Ω–∏—Ç—å Terraform

```bash
cd terraform

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
terraform init

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
terraform apply
```

**Terraform:**
- –°–æ–∑–¥–∞—Å—Ç Web UI —Å–µ—Ä–≤–∏—Å –≤ Cloud Run
- –ù–∞—Å—Ç—Ä–æ–∏—Ç Cloud Build —Ç—Ä–∏–≥–≥–µ—Ä
- –í—ã–¥–∞—Å—Ç URL –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

**–í—Ä–µ–º—è:** ~2 –º–∏–Ω—É—Ç—ã

### –ö–æ–º–∞–Ω–¥–∞ 4: –ü–æ–ª—É—á–∏—Ç—å URL

```bash
# –ü–æ—Å–ª–µ terraform apply —É–≤–∏–¥–∏—à—å:
terraform output web_ui_url

# –ò–ª–∏:
gcloud run services describe web-ui --region=us-central1 --format='value(status.url)'
```

**–°–∫–æ–ø–∏—Ä—É–π —ç—Ç–æ—Ç URL!**

### –ö–æ–º–∞–Ω–¥–∞ 5: –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫—Ä—ã—Ç—å
open $(terraform output -raw web_ui_url)

# –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π URL –∏ –æ—Ç–∫—Ä–æ–π –≤—Ä—É—á–Ω—É—é
```

---

## üéâ –ß–¢–û –ü–†–û–ò–°–•–û–î–ò–¢ –î–ê–õ–¨–®–ï (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö 5 –∫–æ–º–∞–Ω–¥:

```
1. –¢—ã (–∏–ª–∏ —è) –ø—É—à—É –∫–æ–¥ –≤ GitHub
   ‚îÇ
   ‚ñº
2. Cloud Build –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
   ‚îú‚îÄ –í–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ web-ui/
   ‚îú‚îÄ –°–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑
   ‚îú‚îÄ –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤ Container Registry
   ‚îî‚îÄ –î–µ–ø–ª–æ–∏—Ç –≤ Cloud Run
   ‚îÇ
   ‚ñº
3. –ß–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã:
   ‚îî‚îÄ –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ URL!
```

**–ë–ï–ó –¢–ï–†–ú–ò–ù–ê–õ–ê! –ë–ï–ó –ö–û–ú–ê–ù–î!**

–Ø –ø—Ä–æ—Å—Ç–æ –ø—É—à—É –≤ GitHub ‚Üí –≤—Å—ë –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

---

## üìä –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
GitHub (–∫–æ–¥)
    ‚îÇ
    ‚îÇ webhook
    ‚ñº
Cloud Build (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    ‚îÇ
    ‚îú‚îÄ docker build
    ‚îú‚îÄ docker push ‚Üí Container Registry
    ‚îî‚îÄ gcloud run deploy
    ‚îÇ
    ‚ñº
Cloud Run (production)
    ‚îÇ
    ‚îî‚îÄ https://web-ui-XXXXX.run.app ‚úÖ
```

---

## üîß –ß—Ç–æ –¥–µ–ª–∞—Ç—å –°–ï–ô–ß–ê–°

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub (UI)

–û—Ç–∫—Ä–æ–π: https://console.cloud.google.com/cloud-build/triggers?project=financial-reports-ai-2024

–ù–∞–∂–º–∏ **"CONNECT REPOSITORY"** ‚Üí GitHub ‚Üí –ê–≤—Ç–æ—Ä–∏–∑—É–π—Å—è ‚Üí –í—ã–±–µ—Ä–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

### –®–∞–≥ 2-5: –í—ã–ø–æ–ª–Ω–∏ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ö–æ–º–∞–Ω–¥–∞ 2: –ü–µ—Ä–≤—ã–π build
cd /Users/sergejbykov/financial-reports-system
gcloud builds submit --config=web-ui/cloudbuild.yaml .

# –ö–æ–º–∞–Ω–¥–∞ 3: Terraform
cd terraform
terraform init
terraform apply

# –ö–æ–º–∞–Ω–¥–∞ 4: –ü–æ–ª—É—á–∏—Ç—å URL
terraform output web_ui_url

# –ö–æ–º–∞–Ω–¥–∞ 5: –û—Ç–∫—Ä—ã—Ç—å
open $(terraform output -raw web_ui_url)
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å:

```bash
# 1. Web UI –¥–æ—Å—Ç—É–ø–µ–Ω
curl -I $(terraform output -raw web_ui_url)
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: HTTP/2 200

# 2. Health check —Ä–∞–±–æ—Ç–∞–µ—Ç
curl $(terraform output -raw web_ui_url)/health
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: healthy

# 3. –û—Ç–∫—Ä–æ–π –≤ –±—Ä–∞—É–∑–µ—Ä–µ
open $(terraform output -raw web_ui_url)
# –î–æ–ª–∂–µ–Ω –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
```

---

## üéØ –î–∞–ª—å—à–µ –í–°–Å –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò

**–Ø –ø—É—à—É –∫–æ–¥:**
```bash
# –Ø –¥–µ–ª–∞—é –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ web-ui/index.html
# –ö–æ–º–º–∏—á—É –≤ GitHub
```

**Cloud Build –≤–∏–¥–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```
Cloud Build trigger –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
‚Üí –°–æ–±–∏—Ä–∞–µ—Ç –Ω–æ–≤—ã–π –æ–±—Ä–∞–∑
‚Üí –î–µ–ø–ª–æ–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
‚Üí –ß–µ—Ä–µ–∑ 2-3 –º–∏–Ω—É—Ç—ã –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è live!
```

**–¢—ã –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—à—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ!**

---

## üêõ Troubleshooting

### –ï—Å–ª–∏ Cloud Build –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä—å —Ç—Ä–∏–≥–≥–µ—Ä—ã
gcloud builds triggers list

# –ï—Å–ª–∏ –ø—É—Å—Ç–æ - –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —á–µ—Ä–µ–∑ UI
```

### –ï—Å–ª–∏ terraform apply –ø–∞–¥–∞–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –æ–±—Ä–∞–∑ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
gcloud container images list --repository=gcr.io/financial-reports-ai-2024

# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: gcr.io/financial-reports-ai-2024/web-ui
```

### –ï—Å–ª–∏ URL –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è:

```bash
# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω
gcloud run services list --region=us-central1

# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å: web-ui
```

---

## üìà –ò—Ç–æ–≥

**–î–æ:**
```
–¢—ã ‚Üí –¢–µ—Ä–º–∏–Ω–∞–ª ‚Üí Python ‚Üí localhost:8000
```

**–ü–æ—Å–ª–µ:**
```
–Ø ‚Üí GitHub push ‚Üí Cloud Build ‚Üí https://web-ui-XXX.run.app
                                          ‚Üë
                                    –¢—ã –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—à—å
```

**–ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–∞–Ω–¥ –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–Ω–æ!**

---

**–ì–æ—Ç–æ–≤? –í—ã–ø–æ–ª–Ω—è–π 5 –∫–æ–º–∞–Ω–¥ –∏ –≤—Å—ë –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!** üöÄ
